<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8" />
    <title>Anime4K-wgpu Web Demo</title>
    <style>
      body {
        margin: 0;
        padding: 20px;
        font-family: Arial, sans-serif;
        background-color: #f0f0f0;
      }

      .container {
        max-width: 1200px;
        margin: 0 auto;
        background: white;
        padding: 20px;
        border-radius: 10px;
        box-shadow: 0 2px 10px rgba(0, 0, 0, 0.1);
      }

      h1 {
        color: #333;
        text-align: center;
        margin-bottom: 30px;
      }

      #canvas-container {
        text-align: center;
        margin: 20px 0;
      }

      canvas {
        border: 2px solid #333;
        border-radius: 5px;
        box-shadow: 0 2px 5px rgba(0, 0, 0, 0.2);
      }

      #controls {
        text-align: center;
        margin: 20px 0;
        padding: 20px;
        background: #f8f8f8;
        border-radius: 5px;
      }

      #controls label {
        display: inline-block;
        margin: 10px 15px 10px 0;
        font-weight: bold;
        color: #555;
      }

      #controls button {
        margin: 5px;
        padding: 8px 15px;
        background: #007acc;
        color: white;
        border: none;
        border-radius: 4px;
        cursor: pointer;
        font-size: 14px;
      }

      #controls button:hover {
        background: #005a9a;
      }

      #controls input[type="file"] {
        margin: 10px;
        padding: 5px;
      }

      .video-controls {
        margin: 15px 0;
      }

      .video-controls button {
        background: #28a745;
        margin: 0 5px;
      }

      .video-controls button:hover {
        background: #1e7e34;
      }

      #video-container {
        margin: 20px 0;
        text-align: center;
      }

      #video-container video {
        max-width: 100%;
        height: auto;
        border: 1px solid #ddd;
        border-radius: 5px;
      }

      .status {
        margin: 10px 0;
        padding: 10px;
        background: #e7f3ff;
        border-left: 4px solid #007acc;
        border-radius: 4px;
      }

      .error {
        background: #ffe7e7;
        border-left-color: #dc3545;
      }

      .loading {
        text-align: center;
        padding: 20px;
        color: #666;
      }
    </style>
  </head>
  <body>
    <div class="container">
      <h1>üéå Anime4K-wgpu Web Demo</h1>

      <div class="status" id="status">
        <div class="loading">Loading WebAssembly module...</div>
      </div>

      <!-- Canvas will be inserted here by the Rust code -->
      <div id="canvas-container"></div>

      <!-- Controls will be inserted here by the Rust code -->
      <div id="controls"></div>

      <!-- Video element will be inserted here by the Rust code -->
      <div id="video-container"></div>

      <div class="status">
        <h3>Instructions:</h3>
        <ol>
          <li>Use the file input to select a video file</li>
          <li>Click Play/Pause to control video playback</li>
          <li>Try different Anime4K presets to see the effect</li>
          <li>Adjust performance settings based on your hardware</li>
        </ol>
        <p>
          <strong>Note:</strong> This is a demo implementation. WebGPU video
          processing will be added when canvas support is fully available.
        </p>
      </div>
    </div>

    <script type="module">
      import init, { run } from "./pkg/demo_web.js";

      async function start() {
        try {
          await init();
          document.getElementById("status").innerHTML =
            '<div style="color: green;">‚úÖ WebAssembly module loaded successfully\!</div>';
          run();
        } catch (error) {
          console.error("Failed to initialize:", error);
          document.getElementById(
            "status"
          ).innerHTML = `<div class="error">‚ùå Failed to load: ${error}</div>`;
        }
      }

      start();
    </script>
  </body>
</html>
